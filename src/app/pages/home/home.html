<section class="myContainer bg-lightGray dark:bg-darkMode2">
  <!-- hello section -->
  <div
    class="lg:h-[60vh] py-5 bg-lightGray dark:bg-darkMode2 flex flex-col lg:flex-row justify-evenly items-center"
  >
    <!-- welcome msg -->
    <div class="lg:w-[30%] p-5 flex flex-col gap-5 items-center lg:items-start">
      <h2 class="text-4xl lg:text-5xl font-extrabold">
        Hello, <span class="dark:text-Nova">seif</span>
      </h2>
      <p class="text-lg lg:text-xl text-center lg:text-start">
        Let’s explore what’s new and trending.
      </p>
      <div class="flexed flex-col gap-2 md:flex-row lg:gap-5">
        <button class="nova-Btn text-sm lg:text-base" routerLink="/products">
          all products
        </button>
        <button class="nova-Btn2 text-sm lg:text-base" routerLink="/categories">
          go to categories
        </button>
      </div>
    </div>
    <!-- flowbite carousole -->
    <div
      id="default-carousel"
      class="relative w-[90%] lg:w-[60%] p-3 bg-white dark:bg-darkMode lg:p-5 rounded-md"
      data-carousel="slide"
    >
      <!-- Carousel wrapper -->
      <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
        <!-- Item 1 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/slider img/slider-1.png"
            class="absolute block w-full h-full rounded-md -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
            alt="slider 1"
          />
        </div>
        <!-- Item 2 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/slider img/slider-2.jpeg"
            class="absolute block w-full -translate-x-1/2 rounded-md -translate-y-1/2 top-1/2 left-1/2 h-full"
            alt="slider 2"
          />
        </div>
        <!-- Item 3 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/slider img/slider-3.jpeg"
            class="absolute block w-full -translate-x-1/2 rounded-md -translate-y-1/2 top-1/2 left-1/2 h-full"
            alt="slider 3"
          />
        </div>
        <!-- Item 4 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/slider img/slider-4.jpeg"
            class="absolute block w-full -translate-x-1/2 rounded-md -translate-y-1/2 top-1/2 left-1/2 h-full"
            alt="slider 4"
          />
        </div>
        <!-- Item 5 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/slider img/slider-5.jpeg"
            class="absolute block w-full -translate-x-1/2 rounded-md -translate-y-1/2 top-1/2 left-1/2 h-full"
            alt="slider 5"
          />
        </div>
      </div>
      <!-- Slider indicators -->
      <div
        class="absolute z-30 flex -translate-x-1/2 bottom-5 lg:bottom-10 left-1/2 space-x-3 rtl:space-x-reverse"
      >
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="true"
          aria-label="Slide 1"
          data-carousel-slide-to="0"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 2"
          data-carousel-slide-to="1"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 3"
          data-carousel-slide-to="2"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 4"
          data-carousel-slide-to="3"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 5"
          data-carousel-slide-to="4"
        ></button>
      </div>
      <!-- Slider controls -->
      <button
        type="button"
        class="absolute top-0 start-0 lg:start-5 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
        data-carousel-prev
      >
        <span
          class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white border-2 border-Nova dark:bg-darkMode group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
        >
          <svg
            class="w-4 h-4 text-Nova rtl:rotate-180"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 6 10"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 1 1 5l4 4"
            />
          </svg>
          <span class="sr-only">Previous</span>
        </span>
      </button>
      <button
        type="button"
        class="absolute top-0 end-0 lg:end-5 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
        data-carousel-next
      >
        <span
          class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white border-2 border-Nova dark:bg-darkMode group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
        >
          <svg
            class="w-4 h-4 text-Nova rtl:rotate-180"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 6 10"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 9 4-4-4-4"
            />
          </svg>
          <span class="sr-only">Next</span>
        </span>
      </button>
    </div>
  </div>

  <!-- category carsoule -->
  <div class="py-10 bg-white dark:bg-darkMode">
    <p-carousel
      [value]="categories"
      [numVisible]="7"
      [numScroll]="1"
      [circular]="true"
      [responsiveOptions]="responsiveOptions"
      autoplayInterval="3000"
    >
      <ng-template let-category #item>
        <div
          class="flexed hover:bg-lightGray dark:hover:bg-darkMode2 dark:hover:text-Nova cursor-pointer transition rounded-md"
        >
          <div class="p-2 flexed flex-col gap-2">
            <img
              [src]="category.image"
              [alt]="category.name"
              class="h-32 rounded-md"
            />
            <p class="font-semibold">{{ category.name }}</p>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>

  <!-- products section -->
  <h2 class="text-5xl text-center pt-10 dark:bg-darkMode2">For you</h2>
  <div
    class="w-full px-20 flex justify-evenly flex-wrap gap-4 py-10 dark:bg-darkMode2"
  >
    @for (product of products; track product._id) {
    <div
      class="hover:scale-105 transition cursor-pointer bg-white dark:bg-darkMode shadow-md w-[200px] p-3 flex flex-col justify-between rounded-md"
      (click)="goToProduct(product._id)"
    >
      <img
        [src]="product.imageCover"
        [alt]="product.title"
        class="h-52 rounded-md"
      />
      <div class="text-start w-full">
        <h3 class="font-semibold text-lg">
          {{ product.title.split(" ").slice(0, 2).join(" ") }}
        </h3>
        <div class="text-sm bg-Nova/40 rounded-md w-fit p-1">
          <i class="fa-solid fa-star text-sm text-Nova"></i>
          {{ product.ratingsAverage }}
        </div>
      </div>
      <div class="w-full flex justify-between items-center pt-5">
        <h3 class="font-semibold">{{ product.price }} L.E</h3>
        <div class="flex gap-1">
          <button
            (click)="addToWishList($event, product._id)"
            class="w-8 h-8 flexed border rounded-md hover:bg-red-600 hover:border-red-600 hover:text-white"
          >
            <i class="fa-regular fa-heart" s></i>
          </button>
          <button
            (click)="addToCart($event)"
            class="w-8 h-8 flexed bg-Nova border border-Nova rounded-md hover:bg-transparent hover:text-Nova dark:text-black"
          >
            <i class="fa-solid fa-cart-shopping"></i>
          </button>
        </div>
      </div>
    </div>
    }
  </div>
  <div class="flexed pb-10">
    <button routerLink="/products" class="nova-Btn center">
      see all products
    </button>
  </div>
</section>
